<div align="center">
    <img src="data:image/png;base64,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">
</div>

<h1 align="center">Currency Converter</h1>
<p align="center" style="margin-top: -16px">API for converting between BRL, USD, EUR, JPY currencies.</p>

<br>

## âš’ï¸ Resources
- **Tools**
  - [Node 14.20](https://nodejs.org/en/)
  - [Typescript 4.8.4](https://www.typescriptlang.org/)
  - [Axios 1.1.3](https://axios-http.com/ptbr/docs/intro)
- **Consumed API**
  - [Api Layer](https://apilayer.com/â€‹)
  
<br>

## ğŸƒâ€â™‚ï¸ Running

#### Setup

1. Setup a postgres database url in `.env` file `DATABASE_URL`, exemple:

```bash
API_KEY=123456990120310912031            # Visit https://apilayer.com and put your API key here
DATABASE_URL="postgresql://<DATABASE_USER>:<DATABASE_PASS>@localhost:5432/currency_converter_db"
```

**OBS: If you don't have Postgres in your machine but have docker compose, just run `docker-compose up` to instantiate a postgres image**

2. Run Prisma migrations and Prisma Client setup

```bash
npm run prisma:migrate
npm run prisma:generate
```

3. Run the project

```bash
npm run start
```

<br>

[Try to use the currency conversion doc](http://localhosts:3333/api-docs/)

<br>

## ğŸ€ Features

* Create transactions to convert currencies

```bash
  # /api/v1/transactions

  curl -X POST http://localhost:3333/api/v1/transactions \
       -H 'Content-Type: application/json' \
       -d '{ "from": "BRL", "to": "USD", "amount": 5 }'

```

* List registered transactions

```bash
  # /api/v1/transactions

  curl -X GET http://localhost:3333/api/v1/transactions \
       -H 'Content-Type: application/json'

```

<br>

## ğŸ“¦ Folder structure

```
ğŸ“¦ currency-converter
 â”£ ğŸ“‚ prisma
 â”£ ğŸ“‚ src
 â”ƒ â”£ ğŸ“‚ common-types
 â”ƒ â”£ ğŸ“‚ exception
 â”ƒ â”£ ğŸ“‚ providers
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ database
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ http-client
 â”ƒ â”£ ğŸ“‚ v1
 â”ƒ â”ƒ â”£ ğŸ“‚ entities
 â”ƒ â”ƒ â”£ ğŸ“‚ middlewares
 â”ƒ â”ƒ â”£ ğŸ“‚ repositories
 â”ƒ â”ƒ â”£ ğŸ“‚ use-cases
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ create-transaction
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ list-transaction
 â”ƒ â”£ ğŸ“œ routes
 â”ƒ â”£ ğŸ“œ index.ts
 â”£ ğŸ“œ .gitignore
 â”£ ğŸ“œ docker-compose.yml
 â”£ ğŸ“œ README.md
 â”£ ğŸ“œ LICENSE
 â”£ ğŸ“œ package-lock.json
 â”£ ğŸ“œ package.json
 â”£ ğŸ“œ tsconfig.json

```

<br>

## ğŸ¯ Tools Motivation

Thinking about a simple project, easy to test and with high capacity to improvements, the API was built using the clean architecture principles. It came up with pros and cons, like tools limitation that could work togheter respecting these principles. Prisma and axios are one of those! Prisma combined the ability to work with repositories without dirt things in our entities and low accoplament, for example. Axios, on the other hand, provided a way to handle with http client to handle with requests.

<br>

## ğŸ‘¦ Developer

<img style="border-radius: 100%;" src="https://avatars.githubusercontent.com/u/48387142?v=4" width="100px;" alt=""/> <br />

<sub>
    <b>Henrique Barros</b>
</sub>